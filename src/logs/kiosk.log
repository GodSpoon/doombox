2025-07-06 20:27:44,441 - INFO - Successfully imported DoomBox components
2025-07-06 20:27:44,488 - INFO - Initializing DoomBox Kiosk with improved layout...
2025-07-06 20:27:45,045 - INFO - Using Doom 2016 fonts for header
2025-07-06 20:27:45,046 - INFO - Using Puffin Liquid for titles
2025-07-06 20:27:45,048 - INFO - Using Puffin Regular for body text
2025-07-06 20:27:45,048 - INFO - Font setup complete
2025-07-06 20:27:45,053 - INFO - Loaded skull icon
2025-07-06 20:27:45,054 - INFO - Loaded trophy icon
2025-07-06 20:27:45,054 - INFO - Loaded crown icon
2025-07-06 20:27:45,054 - INFO - Icon setup complete
2025-07-06 20:27:45,062 - INFO - QR code generated successfully
2025-07-06 20:27:45,062 - INFO - Database initialized successfully
2025-07-06 20:27:45,154 - INFO - Hardware decoder detected: h264_v4l2m2m
2025-07-06 20:27:45,155 - INFO - Found 29 original videos
2025-07-06 20:27:45,155 - INFO - Loaded 29 video files
2025-07-06 20:27:45,158 - WARNING - Hardware capture failed, falling back to software
2025-07-06 20:27:45,188 - INFO - Using software capture for /home/sam/SPOON_GIT/doombox/vid/DoomDemo28.mp4
2025-07-06 20:27:45,189 - INFO - Video properties: 1280x960 @ 30.0fps
2025-07-06 20:27:45,189 - INFO - Loaded video: DoomDemo28.mp4
2025-07-06 20:27:45,189 - INFO - Started background video decode thread
2025-07-06 20:27:45,189 - INFO - Using hardware-accelerated video player
2025-07-06 20:27:45,189 - INFO - Video player started successfully
2025-07-06 20:27:45,190 - INFO - Video player stats: {'video_count': 29, 'current_video': 'DoomDemo9.mp4', 'hardware_acceleration': True, 'threading_enabled': True, 'queue_size': 0, 'fps': 30.0}
2025-07-06 20:27:45,190 - INFO - ✅ Using hardware-accelerated video decoding
2025-07-06 20:27:45,190 - INFO - Setting up game integration...
2025-07-06 20:27:45,191 - ERROR - dsda-doom not found in any common locations
2025-07-06 20:27:45,191 - INFO - Database initialized successfully
2025-07-06 20:27:45,191 - INFO - GameLauncher initialized
2025-07-06 20:27:45,191 - INFO - Game launcher initialized
2025-07-06 20:27:45,194 - INFO - MQTT client initialized: doombox_1751848065
2025-07-06 20:27:45,194 - INFO - Game launcher reference set
2025-07-06 20:27:45,194 - INFO - Game integration setup complete
2025-07-06 20:27:45,194 - INFO - DoomBox Kiosk initialized successfully!
2025-07-06 20:27:45,194 - INFO - Game state changed: idle -> starting (player: TestPlayer)
2025-07-06 20:27:45,194 - INFO - Pausing video playback - game is active
2025-07-06 20:27:45,195 - INFO - Game state changed: starting -> running (player: TestPlayer)
2025-07-06 20:27:45,195 - INFO - Pausing video playback - game is active
2025-07-06 20:27:45,195 - INFO - Game state changed: running -> finished (player: TestPlayer)
2025-07-06 20:27:45,195 - INFO - Resuming video playback - game is inactive
2025-07-06 20:27:45,195 - INFO - Game state changed: finished -> idle (player: TestPlayer)
2025-07-06 20:27:45,195 - INFO - Resuming video playback - game is inactive
2025-07-06 20:27:45,313 - INFO - Connected to MQTT broker at 10.0.0.215:1883
2025-07-06 20:27:45,313 - INFO - ✅ MQTT client connected successfully
2025-07-06 20:27:45,314 - INFO - Subscribed to topic: doombox/commands
2025-07-07 11:28:17,894 - INFO - Successfully imported DoomBox components
2025-07-07 11:28:17,939 - INFO - Initializing DoomBox Kiosk with improved layout...
2025-07-07 11:28:18,366 - INFO - Using Doom 2016 fonts for header
2025-07-07 11:28:18,367 - INFO - Using Puffin Liquid for titles
2025-07-07 11:28:18,368 - INFO - Using Puffin Regular for body text
2025-07-07 11:28:18,368 - INFO - Font setup complete
2025-07-07 11:28:18,374 - INFO - Loaded skull icon
2025-07-07 11:28:18,375 - INFO - Loaded trophy icon
2025-07-07 11:28:18,375 - INFO - Loaded crown icon
2025-07-07 11:28:18,375 - INFO - Icon setup complete
2025-07-07 11:28:18,382 - INFO - QR code generated successfully
2025-07-07 11:28:18,383 - INFO - Database initialized successfully
2025-07-07 11:28:18,460 - INFO - Hardware decoder detected: h264_v4l2m2m
2025-07-07 11:28:18,461 - INFO - Found 29 original videos
2025-07-07 11:28:18,461 - INFO - Loaded 29 video files
2025-07-07 11:28:18,461 - WARNING - Hardware capture failed, falling back to software
2025-07-07 11:28:18,473 - INFO - Using software capture for /home/sam/SPOON_GIT/doombox/vid/DoomDemo21.mp4
2025-07-07 11:28:18,473 - INFO - Video properties: 1280x960 @ 30.0fps
2025-07-07 11:28:18,473 - INFO - Loaded video: DoomDemo21.mp4
2025-07-07 11:28:18,473 - INFO - Started background video decode thread
2025-07-07 11:28:18,474 - INFO - Using hardware-accelerated video player
2025-07-07 11:28:18,474 - INFO - Video player started successfully
2025-07-07 11:28:18,474 - INFO - Video player stats: {'video_count': 29, 'current_video': 'DoomDemo26.mp4', 'hardware_acceleration': True, 'threading_enabled': True, 'queue_size': 0, 'fps': 30.0}
2025-07-07 11:28:18,474 - INFO - ✅ Using hardware-accelerated video decoding
2025-07-07 11:28:18,474 - INFO - Setting up game integration...
2025-07-07 11:28:18,475 - ERROR - dsda-doom not found in any common locations
2025-07-07 11:28:18,476 - INFO - Database initialized successfully
2025-07-07 11:28:18,476 - INFO - GameLauncher initialized
2025-07-07 11:28:18,476 - INFO - Game launcher initialized
2025-07-07 11:28:18,477 - INFO - MQTT client initialized: doombox_1751902098
2025-07-07 11:28:18,478 - INFO - Game launcher reference set
2025-07-07 11:28:18,478 - INFO - Game integration setup complete
2025-07-07 11:28:18,478 - INFO - DoomBox Kiosk initialized successfully!
2025-07-07 11:28:18,479 - INFO - Game state changed: idle -> starting (player: TestPlayer)
2025-07-07 11:28:18,479 - INFO - Pausing video playback - game is active
2025-07-07 11:28:18,479 - INFO - Game state changed: starting -> running (player: TestPlayer)
2025-07-07 11:28:18,479 - INFO - Pausing video playback - game is active
2025-07-07 11:28:18,479 - INFO - Game state changed: running -> finished (player: TestPlayer)
2025-07-07 11:28:18,479 - INFO - Resuming video playback - game is inactive
2025-07-07 11:28:18,479 - INFO - Game state changed: finished -> idle (player: TestPlayer)
2025-07-07 11:28:18,479 - INFO - Resuming video playback - game is inactive
2025-07-07 11:28:18,618 - INFO - Connected to MQTT broker at 10.0.0.215:1883
2025-07-07 11:28:18,618 - INFO - ✅ MQTT client connected successfully
2025-07-07 11:28:18,619 - INFO - Subscribed to topic: doombox/commands
